<div class="vintages-per-year">
    <div class="row header">
        <div class="col-xs-12">            
            <div class="col-xs-4 text-left">Vintage</div>
            <div class="col-xs-4 text-right">Invested</div>
            <div class="col-xs-4 text-right">Return</div>
        </div>
    </div>

    <div class="row group" ng-repeat="group in vintagesPerYear" ng-class="{'expanded':!group.isCollapsed}" ng-init="group.isCollapsed = $index > 0;group.hide = $index > 0;">
        <div class="col-xs-12 text-left year">
            <span>{{group.$key}}</span>
            <i class="fa fa-chevron-circle-right" ng-class="{'fa-rotate-90':!group.isCollapsed}" ng-click="toggleExpandCollapse(group)"></i>
        </div>
        <div class="col-xs-12 months" ng-style="{
                'height': group.isCollapsed ? 0 : group.length * 20,
                'display': group.hide ? 'none' : 'block'
            }">
            <div class="month" ng-repeat="vintage in group">
                <div class="col-xs-4 text-left">{{vintage.Date | date : 'MMMM'}}</div>
                <div class="col-xs-4 text-right">{{vintage.InvestAmount | currency : model.Currency : 0}}</div>
                <div class="col-xs-4 text-right"><span ng-if="vintage.returnPercent > 0">+</span>{{vintage.ReturnPercent}}%</div>
            </div>
        </div>
    </div>
</div>